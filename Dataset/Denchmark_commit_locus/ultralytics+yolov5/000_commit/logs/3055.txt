      EMA bug fix 2 (#2330)          * EMA bug fix 2          * update 
     return output     def strip_optimizer(f='weights/best.pt', s=''):  # from utils.general import *; strip_optimizer() def strip_optimizer(f='best.pt', s=''):  # from utils.general import *; strip_optimizer()      # Strip optimizer from 'f' to finalize training, optionally save as 's'      x = torch.load(f, map_location=torch.device('cpu'))     for k in 'optimizer', 'training_results', 'wandb_id', 'ema':  # keys     if x.get('ema'):         x['model'] = x['ema']  # replace model with ema     for k in 'optimizer', 'training_results', 'wandb_id', 'ema', 'updates':  # keys          x[k] = None      x['epoch'] = -1      x['model'].half()  # to FP16 
