refactor models export arguments refactor models export arguments cleanup cleanup
elif isinstance act silu act silu elif isinstance models yolo detect inplace opt inplace onnx dynamic onnxdynamic opt dynamic inplace inplace onnx dynamic onnxdynamic dynamic forward forward export forwardexport assign forward optional range model img dry runs print colorstr torch pytorch starting opt weights file size filesize opt weights print colorstr torch pytorch starting weights file size filesize weights torch script torchscript export torchscript opt include coreml opt include torchscript include coreml include prefix colorstr torch script torchscript try print prefix starting export torch torch version opt weights replace torchscript filename weights replace torchscript filename torch jit trace model img strict false optimize mobile optimizeformobile opt optimize else save optimize mobile optimizeformobile optimize else save print prefix export success saved file size filesize except exception print prefix export failure onnx export onnx opt include onnx include prefix colorstr onnx try import onnx print prefix starting export onnx onnx version opt weights replace onnx filename torch onnx export model img verbose false opset version opsetversion opt opset version opsetversion training torch onnx training mode trainingmode training opt train else torch onnx training mode trainingmode eval constant folding doconstantfolding opt train weights replace onnx filename torch onnx export model img verbose false opset version opsetversion opset version opsetversion training torch onnx training mode trainingmode training train else torch onnx training mode trainingmode eval constant folding doconstantfolding train input names inputnames images output names outputnames output dynamic axes dynamicaxes images batch height width shape output batch anchors shape opt dynamic else none dynamic else none checks model onnx modelonnx onnx load load onnx model
