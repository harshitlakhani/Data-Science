wip feature ddp fixed squashed commit following commit decbbcdaaccaebf author nano code nanocode date tue jul adding world size worldsize reduce calls torch distributed use create dataloader createdataloader commit edddcddcddcdc author yizhi chen date tue jul make sync syncbn choice commit edefecadfcbcedce merge bfbeb author yzchen date tue jul merge pull request nano code nanocode patch update train commit cdefbdabadabfeaf author nano code nanocode date tue jul update train remove redundant opt prefix commit bfbebeafbbfefacafac merge author yizhi chen date tue jul merge branch master https github com ultralytics yolov feature ddp fixed ddpfixed commit cabfebbdccaeeffcbb author yizhi chen date tue jul add device allocation loss compute commit fcfbeaeeeefcaeebd author yizhi chen date thu jul revert drop last droplast commit dabeaabccfccab merge aceb author yizhi chen date thu jul merge branch feature ddp fixed ddpfixed https github com magic frog sjtu magicfrogsjtu yolov feature ddp fixed ddpfixed commit acebebdfcbdeebcebee author yizhi chen date thu jul fix warning commit bbdbeecddfdcfbe merge baae cef author yzchen date wed jul merge pull request nano code nanocode patch add drop last droplast multi gpu commit cefcfbbfecceab author nano code nanocode date wed jul add drop last droplast multi gpu commit baaedabfdeaccdf merge ecdcc author yizhi chen date tue jul merge branch master https github com ultralytics yolov feature ddp fixed ddpfixed commit ecdcccdeddffecdfbfbd merge author yizhi chen date tue jul merge branch feature ddp fixed ddpfixed https github com magic frog sjtu magicfrogsjtu yolov feature ddp fixed ddpfixed commit dedfeeeaccccdfebaa author yizhi chen date tue jul add sync syncbn commit abadabbeacbb merge faa author yzchen date tue jul merge pull request nano code nanocode patch convert batch norm batchnorm sync batch norm syncbatchnorm commit baaacdaffbc author nano code nanocode date tue jul add cleanup process group processgroup commit aafccaebededda author nano code nanocode date tue jul remove apex parallel use torch parallel future compatibility commit ceebeaaecaddcd author nano code nanocode date tue jul convert batch norm batchnorm sync batch norm syncbatchnorm commit faaaeffdfeebecadc author yizhi chen date mon jul fix datset inconsistency problem commit ecdcdcdffccfddc author yizhi chen date mon jul add loss multiplication preserver single process singleprocess performance commit effdefabefccc merge bdeaf author yizhi chen date fri jul merge branch master https github com ultralytics yolov feature ddp fixed ddpfixed commit bbfedfeaafdebebc author yizhi chen date thu jul ddp established squashed commit following commit eabddcbdedcf merge acbdc author yizhi chen date thu jul merge branch master https github com ultralytics yolov feature ddp fixed ddpfixed commit acbdcbefcbcbbbabbd author glenn jocher date wed jul update test save txt savetxt commit bcdaadafdb author glenn jocher date wed jul update test save txt savetxt commit efcdbcebeeb author yizhi chen date wed jul revert readme removal commit cbfadcafdc merge cdb fbbb author yizhi chen date wed jul merge branch feature ddp fixed ddpfixed https github com magic frog sjtu magicfrogsjtu yolov feature ddp fixed ddpfixed commit cdbcdcdffbbbadfcece author yizhi chen date wed jul fix ddp performance deterioration bug commit fbbbfaebabbbdfbee author glenn jocher date wed jul delete readme commit fbaefbacbacf merge abf bdfdbb author yizhi chen date wed jul merge branch feature ddp fixed ddpfixed https github com magic frog sjtu magicfrogsjtu yolov feature ddp fixed ddpfixed commit bdfdbbfbefeeffacaae author glenn jocher date tue jul update readme commit caaccbaaafcaefdecec merge bfb author glenn jocher date tue jul merge branch master feature ddp fixed ddpfixed commit bfbfafdfadbda author nano code nanocode date tue jul fixed world size worldsize found called test commit abfcddabadaaacaafbdc merge cad author yizhi chen date tue jul merge branch feature ddp fixed ddpfixed https github com magic frog sjtu magicfrogsjtu yolov feature ddp fixed ddpfixed commit adeddabedfaab author yizhi chen date tue jul add assertion date tue jul merge pull request magic frog sjtu magicfrogsjtu nano code patch nanocodepatch modify number dataloaders workers commit ffefabca author nano code nanocode date tue jul fixed issue single gpu world size worldsize commit daaddfdbfebfeba author nano code nanocode date tue jul add assert message clarification clarify assertion thrown users commit deddefcedafaf author nano code nanocode date tue jul changed number workers check commit decbbcdaaccaebf author nano code nanocode date tue jul adding world size worldsize reduce calls torch distributed use create dataloader createdataloader commit edddcddcddcdc author yizhi chen date tue jul make sync syncbn choice commit edefecadfcbcedce merge bfbeb author yzchen date tue jul merge pull request nano code nanocode patch update train commit cdefbdabadabfeaf author nano code nanocode date tue jul update train remove redundant opt prefix commit bfbebeafbbfefacafac merge author yizhi chen date tue jul merge branch master https github com ultralytics yolov feature ddp fixed ddpfixed commit cabfebbdccaeeffcbb author yizhi chen date tue jul add device allocation loss compute commit fcfbeaeeeefcaeebd author yizhi chen date thu jul revert drop last droplast commit dabeaabccfccab merge aceb author yizhi chen date thu jul merge branch feature ddp fixed ddpfixed https github com magic frog sjtu magicfrogsjtu yolov feature ddp fixed ddpfixed commit acebebdfcbdeebcebee author yizhi chen date thu jul fix warning commit bbdbeecddfdcfbe merge baae cef author yzchen date wed jul merge pull request nano code nanocode patch add drop last droplast multi gpu commit cefcfbbfecceab author nano code nanocode date wed jul add drop last droplast multi gpu commit baaedabfdeaccdf merge ecdcc author yizhi chen date tue jul merge branch master https github com ultralytics yolov feature ddp fixed ddpfixed commit ecdcccdeddffecdfbfbd merge author yizhi chen date tue jul merge branch feature ddp fixed ddpfixed https github com magic frog sjtu magicfrogsjtu yolov feature ddp fixed ddpfixed commit dedfeeeaccccdfebaa author yizhi chen date tue jul add sync syncbn commit abadabbeacbb merge faa author yzchen date tue jul merge pull request nano code nanocode patch convert batch norm batchnorm sync batch norm syncbatchnorm commit baaacdaffbc author nano code nanocode date tue jul add cleanup process group processgroup commit aafccaebededda author nano code nanocode date tue jul remove apex parallel use torch parallel future compatibility commit ceebeaaecaddcd author nano code nanocode date tue jul convert batch norm batchnorm sync batch norm syncbatchnorm commit faaaeffdfeebecadc author yizhi chen date mon jul fix datset inconsistency problem commit ecdcdcdffccfddc author yizhi chen date mon jul add loss multiplication preserver single process singleprocess performance commit effdefabefccc merge bdeaf author yizhi chen date fri jul merge branch master https github com ultralytics yolov feature ddp fixed ddpfixed commit bbfedfeaafdebebc author yizhi chen date thu jul ddp established fixed destroy process group destroyprocessgroup mode update torch utils torchutils update utils revert build targets buildtargets current master update datasets fixed world size worldsize attribute found authored coauthoredby nano code nanocode authored coauthoredby glenn jocher
parser add argument addargument device default help cuda device cpu parser add argument addargument multi scale multiscale action store true storetrue help vary img size imgsize parser add argument addargument single cls singlecls action store true storetrue help train single class singleclass dataset parser add argument addargument sync syncbn action store true storetrue help use sync syncbn avaible ddp mode parameter ddp parser add argument addargument local rank localrank type int default help extra parameter ddp implementation use manually opt parser parse args parseargs last get latest run getlatestrun opt resume get last getlast else opt resume resume recent run last opt weights print resuming training last opt weights last opt resume opt weights else opt weights opt local rank localrank check git status checkgitstatus opt cfg check file checkfile opt cfg check file opt data check file checkfile opt data check file opt hyp update hyps opt hyp check file checkfile opt hyp check file open opt hyp hyp update yaml load loader yaml full loader fullloader update hyps print opt opt img size imgsize extend opt img size imgsize len opt img size imgsize extend sizes train test device torch utils torchutils select device selectdevice opt device apex mixed precision mixedprecision batch size batchsize opt batch size batchsize opt total batch size totalbatchsize opt batch size batchsize opt world size worldsize device type cpu mixed precision mixedprecision false elif opt local rank localrank ddp mode assert torch cuda device count devicecount opt local rank localrank torch cuda set device setdevice opt local rank localrank device torch device cuda opt local rank localrank dist init process group initprocessgroup backend nccl init method initmethod env distributed backend opt world size worldsize dist get world size getworldsize assert opt batch size batchsize opt world size worldsize batch size multiple number devices given opt batch size batchsize opt total batch size totalbatchsize opt world size worldsize print opt train opt evolve writer tbwriter summary writer summarywriter log dir logdir increment dir incrementdir runs exp opt name print start tensorboard tensorboard logdir runs view http localhost train hyp opt local rank localrank print start tensorboard tensorboard logdir runs view http localhost writer tbwriter summary writer summarywriter log dir logdir increment dir incrementdir runs exp opt name else writer tbwriter none train hyp writer tbwriter opt device evolve hyperparameters optional else assert opt local rank localrank ddp mode currently implemented evolve writer tbwriter none opt notest opt nosave true true test save final epoch opt bucket
