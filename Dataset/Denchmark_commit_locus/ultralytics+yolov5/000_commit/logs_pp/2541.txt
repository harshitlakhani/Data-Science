improved corruption handling scan cache
class load images labels loadimagesandlabels dataset training testing def init self path img size imgsize batch size batchsize augment false hyp none rect false image weights imageweights false cache images cacheimages false single cls singlecls false stride pad rank def imglabel paths imglabelpaths img paths imgpaths define label paths function image paths sep images sep sep labels sep images labels substrings return replace replace path splitext txt img paths imgpaths try image files path isinstance path list else path
