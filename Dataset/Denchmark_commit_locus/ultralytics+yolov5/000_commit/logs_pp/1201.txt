refactor detect arguments refactor detect arguments skalski skalskip kalen mike kalenmike unused comment arguments
torch grad nograd def detect opt source weights view img viewimg save txt savetxt imgsz opt source opt weights opt view img viewimg opt save txt savetxt opt img size imgsize save img saveimg opt nosave source endswith txt save inference images def detect weights yolovs model path source data images file dir url glob webcam imgsz inference size pixels conf thres confthres confidence threshold iou thres iouthres nms iou threshold max det maxdet maximum detections per image device cuda device cpu view img viewimg false show results save txt savetxt false save results txt save conf saveconf false save confidences save txt savetxt labels save crop savecrop false save cropped prediction boxes nosave false save images videos classes none filter class class class agnostic nms agnosticnms false class agnostic classagnostic nms augment false augmented inference update false update models project runs detect save results project name name exp save results project name exist existok false existing project name increment line thickness linethickness bounding box thickness pixels hide labels hidelabels false hide labels hide conf hideconf false hide confidences half false use half precision halfprecision inference save img saveimg nosave source endswith txt save inference images webcam source isnumeric source endswith txt source lower startswith rtsp rtmp http https directories save dir savedir increment path incrementpath path opt project opt name exist existok opt exist existok increment run save dir savedir increment path incrementpath path project name exist existok exist existok increment run save dir savedir labels save txt savetxt else save dir savedir mkdir parents true exist existok true make dir initialize set logging setlogging device select device selectdevice opt device half opt half device type cpu half precision supported cuda device select device selectdevice device half device type cpu half precision supported cuda load model model attempt load attemptload weights map location maplocation device load model
