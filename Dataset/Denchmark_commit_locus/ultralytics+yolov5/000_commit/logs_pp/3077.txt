update ddp torch distributed run gloo backend update ddp torch distributed run add localrank remove opt local rank localrank backend gloo nccl print print debug debug getenv gloo gloo gloo cleanup fix getenv cleanup cleanup destroy try nccl return opt add local rank localrank add timeout add init method initmethod gloo move destroy move destroy move print opt rank destroy rank move destroy inside train restore destroy outside train update print opt cleanup nccl gloo second timeout update namespace printing
parser add argument addargument bbox interval bboxinterval type int default help set bounding box boundingbox image logging interval parser add argument addargument save period saveperiod type int default help log model every save period saveperiod epoch parser add argument addargument artifact alias artifactalias type str default latest help version dataset artifact used parser add argument addargument local rank localrank type int default help ddp parameter modify opt parser parse args parseargs set ddp variables opt world size worldsize int getattr environ worldsize opt global rank globalrank int getattr environ rank return opt def main opt print opt set logging setlogging opt global rank globalrank opt global rank globalrank set logging setlogging rank rank print colorstr train join vars opt items check git status checkgitstatus check requirements checkrequirements exclude thop
