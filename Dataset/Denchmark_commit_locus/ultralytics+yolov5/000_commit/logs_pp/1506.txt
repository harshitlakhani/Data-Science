hyperparameter evolution bug fix
opt local rank localrank assert torch cuda device count devicecount opt local rank localrank torch cuda set device setdevice opt local rank localrank device torch device cuda opt local rank localrank device torch device cuda opt local rank localrank dist init process group initprocessgroup backend nccl init method initmethod env distributed backend opt world size worldsize dist get world size getworldsize assert opt batch size batchsize opt world size worldsize batch size multiple number devices given assert opt batch size batchsize opt world size worldsize batch size batchsize must multiple cuda device count opt batch size batchsize opt total batch size totalbatchsize opt world size worldsize print opt train opt evolve writer tbwriter none opt local rank localrank print start tensorboard tensorboard logdir runs view http localhost writer tbwriter summary writer summarywriter log dir logdir increment dir incrementdir runs exp opt name else writer tbwriter none train hyp writer tbwriter opt device train hyp opt device writer tbwriter evolve hyperparameters optional else assert opt local rank localrank ddp mode implemented evolve hyperparameter evolution metadata mutation scale lower limit lowerlimit upper limit upperlimit meta initial learning rate sgd adam momentum sgd momentum adam beta weight decay weightdecay optimizer weight decay giou giou loss gain cls cls loss gain cls clspw cls bce loss bceloss positive weight positiveweight obj obj loss gain scale pixels obj objpw obj bce loss bceloss positive weight positiveweight iou iout iou training threshold anchor anchort anchor multiple anchormultiple threshold gamma flgamma focal loss gamma efficient det efficientdet default gamma hsv hsvh image hsv hue hsvhue augmentation fraction hsv hsvs image hsv saturation hsvsaturation augmentation fraction hsv hsvv image hsv value hsvvalue augmentation fraction degrees image rotation deg translate image translation fraction scale image scale gain shear image shear deg perspective image perspective fraction range flipud image flip updown probability fliplr image flip left right leftright probability mixup image mixup probability writer tbwriter none assert opt local rank localrank ddp mode implemented evolve opt notest opt nosave true true test save final epoch isinstance int float hyp values evolvable indices opt bucket system gsutil evolve txt opt bucket download evolve txt exists
