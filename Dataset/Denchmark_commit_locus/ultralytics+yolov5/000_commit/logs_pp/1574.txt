update caching
self imgsi nbytes pbar desc caching images fgb def cache labels cachelabels self path labels cache def cache labels cachelabels self path path labels cache cache dataset labels check images read shapes dict number missing found empty duplicate pbar tqdm zip self img files imgfiles self label files labelfiles desc scanning images total len self img files imgfiles img label pbar file imfile file lbfile enumerate pbar try image open img verify images image open file imfile verify pil verify shape exif size exifsize image size assert shape shape image size negative labels assert non normalized nonnormalized bounds coordinate labels assert unique axis shape shape duplicate labels else label empty zeros dtype float else label missing xim file ximfile shape except exception logger warning warning ignoring corrupted image label img print warning ignoring corrupted image label file imfile pbar desc scanning path parent path stem images labels found missing empty corrupted print warning labels found path see help url helpurl hash get hash gethash self label files labelfiles self img files imgfiles results torch save path save next time logging info new cache created path return def len self
