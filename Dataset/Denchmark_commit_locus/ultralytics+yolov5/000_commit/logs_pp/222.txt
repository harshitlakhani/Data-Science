flask rest api example add files update readme update readme update restapi pretrained true model eval used default loading model need call manually pep reformat pep reformat authored coauthoredby glenn jocher
run rest api exposing yolovs object detection model import argparse import import torch pil import image flask import flask request app flask name detectionurl object detection objectdetection yolovs app route detectionurl methods post def predict request method post return request files get image image file imagefile request files image image bytes imagebytes image file imagefile read img image open bytes bytesio image bytes imagebytes results model img size data results pandas xyxy json tojson orient records return data name main parser argparse argument parser argumentparser description flask api exposing yolov model parser add argument addargument port default type int help port number args parser parse args parseargs model torch hub load ultralytics yolov yolovs force reload forcereload true autoshape force reload forcereload recache app run host port args port debug true causes restarting stat
