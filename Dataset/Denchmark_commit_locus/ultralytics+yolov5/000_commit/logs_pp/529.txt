use multi threading multithreading cache labels cachelabels use multi threading cache labels cachelabels pep reformat add num threads numthreads changed thread pool threadpool imap unordered imapunordered pool imap unordered imapunordered remove inplace additions update datasets refactor initial desc authored coauthoredby glenn jocher
cache images cacheimages gigabytes cached images self img imghw self img imghw none none results thread pool threadpool imap lambda load image loadimage zip repeat self range threads results thread pool threadpool num threads numthreads imap lambda load image loadimage zip repeat self range pbar tqdm enumerate results total pbar self imgsi self img hwi imghwi self img hwi imghwi img original hworiginal resized hwresized load image loadimage self
